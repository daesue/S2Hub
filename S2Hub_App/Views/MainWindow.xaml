<Window x:Class="S2Hub_App.Views.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:models="clr-namespace:S2Hub_App.Models"
        xmlns:ViewModels="clr-namespace:S2Hub_App.ViewModels"
        mc:Ignorable="d"
        Icon="/Assets/Icons/S2Hub.ico"
        Title="Smart Stow Hub" Height="600" Width="1024">

    <Window.DataContext>
        <ViewModels:MainViewModel />
    </Window.DataContext>

    <DockPanel>
        <!-- 메뉴 영역 -->
        <Menu DockPanel.Dock="Top">
            <!-- 파일(F) -->
            <MenuItem Header="_파일(F)">
                <MenuItem Header="닫기(_C)"
                  Click="OnFileCloseClick" />                                                                   
            </MenuItem>

            <!-- 보기(V) -->
            <MenuItem Header="_보기(V)">
                <MenuItem Header="UI 언어(_U)"
                  Click="OnViewUiLanguageClick" />
            </MenuItem>

            <!-- 도움말(H) -->
            <MenuItem Header="도움말(_H)">
                <MenuItem Header="도움말 항목(_H)"
                  Click="OnHelpTopicsClick" />

                <MenuItem Header="대화(_T)"
                  Click="OnHelpChatClick" />

                <Separator />
                <MenuItem Header="S2Hub Info...(_A)" Click="OnS2HubInfoClick"/>
            </MenuItem>
        </Menu>

        <!-- 메인 콘텐츠 영역 -->
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="21"/>
                <ColumnDefinition Width="14"/>
                <ColumnDefinition Width="285"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <!-- TreeView -->
            <TreeView x:Name="DirectoryTree"
                    ItemsSource="{Binding Drives}"
                    Grid.Column="0"
                    SelectedItemChanged="DirectoryTree_SelectedItemChanged" Grid.ColumnSpan="3">
                <TreeView.Resources>
                    <HierarchicalDataTemplate DataType="{x:Type models:DirectoryNode}" ItemsSource="{Binding Children}">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="📁" Margin="0,0,6,0"/>
                            <TextBlock Text="{Binding Name}"/>
                        </StackPanel>
                    </HierarchicalDataTemplate>
                </TreeView.Resources>
                <TreeView.ItemContainerStyle>
                    <Style TargetType="TreeViewItem">
                        <EventSetter Event="Expanded" Handler="OnTreeItemExpanded"/>
                    </Style>
                </TreeView.ItemContainerStyle>
            </TreeView>

            <!-- ListView -->
            <ListView Grid.Column="3" ItemsSource="{Binding Files}">
                <ListView.View>
                    <GridView>
                        <GridViewColumn Header="Name" DisplayMemberBinding="{Binding Name}" Width="400"/>
                        <GridViewColumn Header="Size (KB)" DisplayMemberBinding="{Binding SizeKB}" Width="100"/>
                        <GridViewColumn Header="Modified" DisplayMemberBinding="{Binding Modified}" Width="180"/>
                    </GridView>
                </ListView.View>
            </ListView>
        </Grid>
    </DockPanel>
</Window>
